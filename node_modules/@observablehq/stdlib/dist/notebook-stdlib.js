const metas=new Map,modules=new Map,queue=[],map=queue.map,some=queue.some,hasOwnProperty=queue.hasOwnProperty,origin="https://unpkg.com/",parseRe=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/;function string(e){return"string"==typeof e?e:""}function parseIdentifier(e){const t=parseRe.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function resolveMeta(e){const t=`${origin}${e.name}@${e.version||"latest"}/package.json`;let n=metas.get(t);return n||metas.set(t,n=fetch(t).then(e=>{if(!e.ok)throw new Error("unable to load package.json");return e.redirected&&!metas.has(e.url)&&metas.set(e.url,n),e.json()})),n}async function resolve(e,t){if(e.startsWith(origin)&&(e=e.substring(origin.length)),/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");const n=parseIdentifier(e);if(!n)return`${origin}${e}`;if(!n.version&&null!=t&&t.startsWith(origin)){const e=await resolveMeta(parseIdentifier(t.substring(origin.length)));n.version=e.dependencies&&e.dependencies[n.name]||e.peerDependencies&&e.peerDependencies[n.name]}const r=await resolveMeta(n);return`${origin}${r.name}@${r.version}/${n.path||string(r.unpkg)||string(r.browser)||string(r.main)||"index.js"}`}const require=requireFrom(resolve);function requireFrom(e){const t=r(null);function n(e){let t=modules.get(e);return t||modules.set(e,t=new Promise((t,n)=>{const o=document.createElement("script");o.onload=(()=>{try{t(queue.pop()(r(e)))}catch(e){n(new Error("invalid module"))}o.remove()}),o.onerror=(()=>{n(new Error("unable to load module")),o.remove()}),o.async=!0,o.src=e,window.define=define,document.head.appendChild(o)})),t}function r(t){return r=>Promise.resolve(e(r,t)).then(n)}function o(e){return arguments.length>1?Promise.all(map.call(arguments,t)).then(merge):t(e)}return o.resolve=e,o}function merge(e){const t={};for(const n of e)for(const e in n)hasOwnProperty.call(n,e)&&(null==n[e]?Object.defineProperty(t,e,{get:getter(n,e)}):t[e]=n[e]);return t}function getter(e,t){return()=>e[t]}function isexports(e){return e+""=="exports"}function define(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"==typeof e?[]:e),queue.push(some.call(t,isexports)?e=>{const r={};return Promise.all(map.call(t,t=>isexports(t+="")?r:e(t))).then(e=>(n.apply(null,e),r))}:e=>Promise.all(map.call(t,e)).then(e=>"function"==typeof n?n.apply(null,e):n))}function constant(e){return function(){return e}}function canvas(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}function context2d(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var o=r.getContext("2d");return o.scale(n,n),o}function download(e,t,n){var r=document.createElement("a");return r.appendChild(document.createElement("button")).textContent=null==n?"Download":n,r.download=null==t?"untitled":t,r.onclick=function(){var t=r.href=URL.createObjectURL(e);setTimeout(function(){URL.revokeObjectURL(t)},50)},r}define.amd={};var namespaces={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function element(e,t){var n,r=e+="",o=r.indexOf(":");o>=0&&"xmlns"!==(r=e.slice(0,o))&&(e=e.slice(o+1));var i=namespaces.hasOwnProperty(r)?document.createElementNS(namespaces[r],e):document.createElement(e);if(t)for(var u in t)o=(r=u).indexOf(":"),n=t[u],o>=0&&"xmlns"!==(r=u.slice(0,o))&&(u=u.slice(o+1)),namespaces.hasOwnProperty(r)?i.setAttributeNS(namespaces[r],u,n):i.setAttribute(u,n);return i}function input(e){var t=document.createElement("input");return null!=e&&(t.type=e),t}function range(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r}function select(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,function(e){var n=document.createElement("option");n.value=n.textContent=e,t.appendChild(n)}),t}function svg(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n}function text(e){return document.createTextNode(e)}var count=0;function uid(e){return new Id("O-"+(null==e?"":e+"-")+ ++count)}function Id(e){this.id=e,this.href=window.location.href+"#"+e}Id.prototype.toString=function(){return"url("+this.href+")"};var DOM={canvas:canvas,context2d:context2d,download:download,element:element,input:input,range:range,select:select,svg:svg,text:text,uid:uid};function buffer(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)})}function text$1(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)})}function url(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)})}var Files={buffer:buffer,text:text$1,url:url};function disposable(e,t){let n=!1;return{next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}function*filter(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)}function that(){return this}function observe(e){let t,n,r=!1;const o=e(function(e){n?(n(e),n=null):r=!0;return t=e});return{[Symbol.iterator]:that,throw:()=>({done:!0}),return:()=>(null!=o&&o(),{done:!0}),next:function(){return{done:!1,value:r?(r=!1,Promise.resolve(t)):new Promise(e=>n=e)}}}}function input$1(e){return observe(function(t){var n=eventof(e),r=valueof(e);function o(){t(valueof(e))}return e.addEventListener(n,o),void 0!==r&&t(r),function(){e.removeEventListener(n,o)}})}function valueof(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}function eventof(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}function*map$1(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)}function queue$1(e){let t;const n=[],r=e(function(e){n.push(e),t&&(t(n.shift()),t=null);return e});return{[Symbol.iterator]:that,throw:()=>({done:!0}),return:()=>(null!=r&&r(),{done:!0}),next:function(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(e=>t=e)}}}}function*range$1(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n));++r<o;)yield e+r*n}function valueAt(e,t){if(!(!isFinite(t=+t)||t<0||t!=t|0))for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value}function worker(e){const t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return disposable(n,()=>{n.terminate(),URL.revokeObjectURL(t)})}var Generators={disposable:disposable,filter:filter,input:input$1,map:map$1,observe:observe,queue:queue$1,range:range$1,valueAt:valueAt,worker:worker};function template(e,t){return function(n){var r,o,i,u,a,l,s,c,d=n[0],m=[],f=null,v=-1;for(a=1,l=arguments.length;a<l;++a){if((r=arguments[a])instanceof Node)m[++v]=r,d+="\x3c!--o:"+v+"--\x3e";else if(Array.isArray(r)){for(s=0,c=r.length;s<c;++s)(o=r[s])instanceof Node?(null===f&&(m[++v]=f=document.createDocumentFragment(),d+="\x3c!--o:"+v+"--\x3e"),f.appendChild(o)):(f=null,d+=o);f=null}else d+=r;d+=n[a]}if(f=e(d),++v>0){for(i=new Array(v),u=document.createTreeWalker(f,NodeFilter.SHOW_COMMENT,null,!1);u.nextNode();)o=u.currentNode,/^o:/.test(o.nodeValue)&&(i[+o.nodeValue.slice(2)]=o);for(a=0;a<v;++a)(o=i[a])&&o.parentNode.replaceChild(m[a],o)}return 1===f.childNodes.length?f.removeChild(f.firstChild):11===f.nodeType?((o=t()).appendChild(f),o):f}}var html=template(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("div")});function md(e){return function(){return e("marked@0.3.12/marked.min.js").then(function(t){return template(function(n){var r=document.createElement("div");r.innerHTML=t(n,{langPrefix:""}).trim();var o=r.querySelectorAll("pre code[class]");return o.length>0&&e("@observablehq/highlight.js@1.0.0/highlight.min.js").then(function(e){o.forEach(e.highlightBlock)}),r},function(){return document.createElement("div")})})}}function Mutable(e){let t;Object.defineProperties(this,{generator:{value:observe(e=>void(t=e))},value:{get:()=>e,set:n=>t(e=n)}}),void 0!==e&&t(e)}function*now(){for(;;)yield Date.now()}function delay(e,t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}var timeouts=new Map;function timeout(e,t){var n=new Promise(function(n){timeouts.delete(t);var r=t-e;if(!(r>0))throw new Error("invalid time");if(r>2147483647)throw new Error("too long to wait");setTimeout(n,r)});return timeouts.set(t,n),n}function when(e,t){var n;return(n=timeouts.get(e=+e))?n.then(constant(t)):(n=Date.now())>=e?Promise.resolve(t):timeout(n,e).then(constant(t))}function tick(e,t){return when(Math.ceil((Date.now()+1)/e)*e,t)}var Promises={delay:delay,tick:tick,when:when};function resolve$1(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}var svg$1=template(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}),raw=String.raw;function style(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=n,r.onload=t,document.head.appendChild(r)})}function tex(e){return function(){return Promise.all([e("katex@0.9.0/dist/katex.min.js"),e.resolve("katex@0.9.0/dist/katex.min.css").then(style)]).then(function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(raw.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.block=r({displayMode:!0}),n})}}var inset=28;function width(){return observe(function(e){var t=e(window.innerWidth-inset);function n(){var n=window.innerWidth-inset;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}function Library(e){var t=null==e?require:requireFrom(e);Object.defineProperties(this,{DOM:{value:DOM,enumerable:!0},Files:{value:Files,enumerable:!0},Generators:{value:Generators,enumerable:!0},html:{value:constant(html),enumerable:!0},md:{value:md(t),enumerable:!0},Mutable:{value:constant(Mutable),enumerable:!0},now:{value:now,enumerable:!0},Promises:{value:Promises,enumerable:!0},require:{value:constant(t),enumerable:!0},resolve:{value:constant(resolve$1),enumerable:!0},svg:{value:constant(svg$1),enumerable:!0},tex:{value:tex(t),enumerable:!0},width:{value:width,enumerable:!0}})}export{Library};
